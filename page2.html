<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Runegamble</title>

    <style>
        body {
            margin: 0;
            background: #111;
            color: #fff;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #gameCanvas {
            background: #222;
            border: 2px solid #555;
            margin-top: 10px;
        }
        #ui {
            margin-top: 10px;
        }
        button {
            padding: 6px 12px;
            cursor: pointer;
            background: #444;
            color: #fff;
            border: 1px solid #777;
        }
        button:hover {
            background: #666;
        }
    </style>
</head>

<body>

    <!-- Google link -->
    <a href="https://www.google.com" target="_self" title="this takes you to google">
        google
    </a>

    <h1>Love</h1>

    <!-- Background music -->
    <audio controls autoplay muted loop>
        <source src="newmoon.mp3">
    </audio>

    <!-- Click sound -->
    <audio id="click-sound" src="Clicksound.mp3"></audio>

    <!-- Image that plays click sound -->
    <img src="CUSTOM 1.png" id="click-image" style="width:200px; cursor:pointer;">

    <script>
        const clickImage = document.getElementById("click-image");
        const originalSound = document.getElementById("click-sound");

        clickImage.addEventListener("click", () => {
            for (let i = 0; i < 4; i++) {
                const clone = originalSound.cloneNode(true);
                clone.play();
            }
        });
    </script>

    <br>
    <h2>Love</h2>
    <p>What are you meaning you want?</p>

    <!-- Another image link -->
    <a href="https://google.com">
        <img src="CUSTOM 1.png" height="200" width="200" alt="i am here for you" title="i have been here forever">
    </a>

    <!-- Plinko Game -->
    <h1>Plinko</h1>
    <div id="ui">
        <button id="dropCenter">Drop from center</button>
        <span id="scoreDisplay">Score: 0</span>
    </div>

    <canvas id="gameCanvas" width="400" height="600"></canvas>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const scoreDisplay = document.getElementById("scoreDisplay");
        const dropCenterBtn = document.getElementById("dropCenter");

        const width = canvas.width;
        const height = canvas.height;

        const gravity = 0.2;
        const friction = 0.99;
        const ballRadius = 7;

        let pegs = [];
        let slots = [];
        let balls = [];
        let score = 0;

        function createPegs() {
            pegs = [];
            const rows = 10;
            const cols = 8;
            const spacingX = width / cols;
            const spacingY = 45;
            const offsetY = 80;

            for (let row = 0; row < rows; row++) {
                for (let col = 0; col < cols; col++) {
                    let x = spacingX * col + spacingX / 2;
                    let y = offsetY + spacingY * row;
                    if (row % 2 === 1) x += spacingX / 2;
                    pegs.push({ x, y, r: 5 });
                }
            }
        }

 function createSlots() {
    slots = [];
    const numSlots = 7;
    const slotWidth = width / numSlots;
    const slotHeight = 80;

    for (let i = 0; i < numSlots; i++) {
        const x = i * slotWidth;
        const y = height - slotHeight;

        let value = 10; // default positive

        if (i === 0 || i === numSlots - 1) value = -50; // sides subtract
        if (i === Math.floor(numSlots / 2)) value = 0;  // middle is zero

        slots.push({ x, y, width: slotWidth, height: slotHeight, value });
    }
}

        function resetBall(x) {
            balls.push({
                x: x,
                y: 20,
                vx: (Math.random() - 0.5) * 2,
                vy: 0,
                radius: ballRadius,
                active: true
            });
        }

        canvas.addEventListener("click", (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            resetBall(x);
        });

        dropCenterBtn.addEventListener("click", () => {
            resetBall(width / 2);
        });

        function updateBalls() {
            for (let ball of balls) {
                if (!ball.active) continue;

                ball.vy += gravity;
                ball.vx *= friction;
                ball.vy *= friction;

                ball.x += ball.vx;
                ball.y += ball.vy;

                if (ball.x - ball.radius < 0) {
                    ball.x = ball.radius;
                    ball.vx *= -0.8;
                } else if (ball.x + ball.radius > width) {
                    ball.x = width - ball.radius;
                    ball.vx *= -0.8;
                }

                for (let peg of pegs) {
                    const dx = ball.x - peg.x;
                    const dy = ball.y - peg.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const minDist = ball.radius + peg.r;

                    if (dist < minDist && dist > 0) {
                        const overlap = minDist - dist;
                        const nx = dx / dist;
                        const ny = dy / dist;

                        ball.x += nx * overlap;
                        ball.y += ny * overlap;

                        const dot = ball.vx * nx + ball.vy * ny;
                        ball.vx -= 2 * dot * nx;
                        ball.vy -= 2 * dot * ny;

                        ball.vx *= 0.9;
                        ball.vy *= 0.9;
                    }
                }

                if (ball.y + ball.radius > height - 80) {
                    for (let slot of slots) {
                        if (
                            ball.x > slot.x &&
                            ball.x < slot.x + slot.width &&
                            ball.y + ball.radius >= slot.y
                        ) {
                            ball.active = false;
                            score += slot.value;
                            scoreDisplay.textContent = "Score: " + score;
                        }
                    }
                }

                if (ball.y - ball.radius > height) {
                    ball.active = false;
                }
            }
        }

        function drawPegs() {
            ctx.fillStyle = "#aaa";
            for (let peg of pegs) {
                ctx.beginPath();
                ctx.arc(peg.x, peg.y, peg.r, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function drawSlots() {
            for (let slot of slots) {
                ctx.fillStyle = "#333";
                ctx.fillRect(slot.x, slot.y, slot.width, slot.height);

                ctx.fillStyle = "#fff";
                ctx.font = "14px Arial";
                ctx.textAlign = "center";
                ctx.fillText(
                    slot.value,
                    slot.x + slot.width / 2,
                    slot.y + slot.height / 2
                );
            }

            ctx.strokeStyle = "#666";
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(0, height - 80);
            ctx.lineTo(width, height - 80);
            ctx.stroke();
        }

        function drawBalls() {
            ctx.fillStyle = "#ffcc00";
            for (let ball of balls) {
                if (!ball.active) continue;
                ctx.beginPath();
                ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function loop() {
            ctx.clearRect(0, 0, width, height);

            updateBalls();
            drawSlots();
            drawPegs();
            drawBalls();

            requestAnimationFrame(loop);
        }

        createPegs();
        createSlots();
        loop();
    </script>


</body>
</html>

